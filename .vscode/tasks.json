{
	"version": "2.0.0",
	"tasks": [
		// ðŸŸ¢ Engine Build
		{
			"label": "Build (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build.bat",
				"args": ["Debug", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build (Release)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build.bat",
				"args": ["Release", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Release", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Release", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Emscripten (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build.bat",
				"args": ["Debug", "Emscripten"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Debug", "Emscripten"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Debug", "Emscripten"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Emscripten (Release)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build.bat",
				"args": ["Release", "Emscripten"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Release", "Emscripten"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build.sh", "Release", "Emscripten"],
				"problemMatcher": "$gcc"
			}
		},
		// ðŸŸ¢ Examples
		{
			"label": "Build Example: Tutorial (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build-example.bat",
				"args": ["tutorial", "Debug", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "tutorial", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "tutorial", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Example: Main Demo (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build-example.bat",
				"args": ["main_demo", "Debug", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "main_demo", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "main_demo", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Example: Main Demo (Release)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build-example.bat",
				"args": ["main_demo", "Release", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "main_demo", "Release", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "main_demo", "Release", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Example: Multi View (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build-example.bat",
				"args": ["multi_view", "Debug", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "multi_view", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "multi_view", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		{
			"label": "Build Example: Scene Editor (Debug)",
			"type": "shell",
			"group": "build",
			"windows": {
				"command": "${workspaceFolder}/scripts/build-example.bat",
				"args": ["scene_editor", "Debug", "WGPU"],
				"problemMatcher": "$msCompile"
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "scene_editor", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/build-example.sh", "scene_editor", "Debug", "WGPU"],
				"problemMatcher": "$gcc"
			}
		},
		// ðŸŸ¢ Other
		{
			"label": "Start Emscripten Dev Server",
			"type": "shell",
			"command": "python3",
			"args": ["-m", "http.server", "8080"],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"isBackground": true,
			"problemMatcher": {
				"pattern": [
					{
						"regexp": ".*",
						"file": 1,
						"location": 2,
						"message": 3
					}
				],
				"background": {
					"activeOnStart": true,
					"beginsPattern": { "regexp": "." },
					"endsPattern": { "regexp": "." }
				}
			}
		},
		{
			"label": "start server",
			"type": "shell",
			"isBackground": true,
			"command": "http-server",
			"args": ["-c-1"],
			"presentation": {
				"reveal": "silent"
			},
			"problemMatcher": [
				{
					"pattern": [
						{
							"regexp": ".",
							"file": 1,
							"line": 1,
							"column": 1,
							"message": 1
						}
					],
					"background": {
						"activeOnStart": true,
						"beginsPattern": { "regexp": "." },
						"endsPattern": { "regexp": "." }
					}
				}
			]
		},
		{
			"label": "stop server",
			"command": "echo ${input:terminate}",
			"type": "shell"
		},
		{
			"label": "Clang-Tidy: Forward Declare & Clean Includes",
			"type": "shell",
			"group": "build",
			"problemMatcher": [],
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"windows": {
				"command": "powershell",
				"args": [
					"-NoProfile",
					"-ExecutionPolicy", "Bypass",
					"-File", "${workspaceFolder}/scripts/run-clang-tidy.ps1",
					"-BuildDir", "build/Windows/Debug",
					"-Mode", "fix"
				]
			},
			"linux": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/run-clang-tidy.sh", "build/Linux/Debug", "fix"]
			},
			"osx": {
				"command": "bash",
				"args": ["${workspaceFolder}/scripts/run-clang-tidy.sh", "build/Mac/Debug", "fix"]
			}
		}
	],
	"inputs": [
		{
			"id": "buildType",
			"type": "pickString",
			"description": "Select Build Type",
			"options": ["Debug", "Release"],
			"default": "Debug"
		},
		{
			"id": "platform",
			"type": "pickString",
			"description": "Select Target Platform",
			"options": ["Windows", "Linux", "Darwin"],
			"default": "Windows"
		},
		{
			"id": "terminate",
			"type": "command",
			"command": "workbench.action.tasks.terminate",
			"args": "terminateAll"
		}
	]
}